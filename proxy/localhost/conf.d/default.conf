server {
    listen       80;
    server_name  auth.zthunworks.com;

    location / {
        proxy_set_header Host 'localhost';
        proxy_pass http://auth.zthunworks.com:4200;
        proxy_redirect off;
    }
}

server {
  listen 80;
  server_name api.auth.zthunworks.com;

  location / {
    if ($request_method = 'OPTIONS') {
      add_header 'Access-Control-Allow-Origin' '*';
      add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
      add_header 'Access-Control-Allow-Headers' '*';
      return 204;
    }

    proxy_set_header Host 'localhost';
    proxy_pass http://api.auth.zthunworks.com:3000;
    proxy_redirect off;
    add_header 'Access-Control-Allow-Origin' '*';
    add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
    add_header 'Access-Control-Allow-Headers' '*';
  }
}

server {
  listen 80;
  server_name database.auth.zthunworks.com;

  location / {
    proxy_set_header Host 'localhost';
    proxy_pass http://view.database.auth.zthunworks.com:8081;
    proxy_redirect off;
  }
}
